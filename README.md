# パチスロの台情報スクレイピング

## 背景
- [Pythonクローリング＆スクレイピング ―データ収集・解析のための実践開発ガイド―](https://www.amazon.co.jp/dp/B01NGWKE0P/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1) を通読

   ![Imgur](https://i.imgur.com/yw7uZee.jpg)

- 勉強したので何かやりたかった
- タイミングよく、友人がとある店舗のパチスロ台の情報をまとめて取得したいと要望があった

## 目的
- 各台の台情報をCSVで出力する
- 台情報のイメージ

  ![Imgur](https://i.imgur.com/xZ11fWb.jpg)

## 環境
- Windows 10 Pro (64-bit)
- Python 3.6.1 | Anaconda 4.4.0 (64-bit)
  - beautifulsoup4==4.6.0
  - lxml==3.7.3
  - requests==2.14.2

## 使用方法
- データ取得タイミング: 23:30 以降が推奨 (朝方だとデータがリセットされるため)
- 実行方法: output_rank_info.py を実行
- 出力内容
  - 出力先: output/
  - 出力ファイル名: <YYYYMMDD>_rackdata_<店名>.csv
  - イメージ

    |     機種名     |台番号|スタート|総回転数|BB |RB |ART| BB確率 | RB確率  |合成確率|    更新日時     |    出力日時     |
    |----------------|-----:|-------:|-------:|--:|--:|---|--------|---------|--------|-----------------|-----------------|
    |ﾆｭｰｱｲﾑｼﾞｬｸﾞﾗｰEXC|   570|      89|    3995| 22| 12|   | 1/181.6| 1/332.9 | 1/117.5| 2017/10/01 23:06| 2017/10/02 00:04|
    |ﾆｭｰｱｲﾑｼﾞｬｸﾞﾗｰEXC|   571|     211|    3151| 14|  3|   | 1/225.1| 1/1050.3| 1/185.4| 2017/10/01 23:06| 2017/10/02 00:04|
    |ﾆｭｰｱｲﾑｼﾞｬｸﾞﾗｰEXC|   572|     341|    2060| 10|  3|   | 1/206.0| 1/686.7 | 1/158.5| 2017/10/01 23:06| 2017/10/02 00:04|
    |ﾆｭｰｱｲﾑｼﾞｬｸﾞﾗｰEXC|   573|       0|       0|  0|  0|   | /.     | /.      | /.     | 2017/10/01 23:06| 2017/10/02 00:04|

## 感想
- HTMLのパース方法が理解できた
- 友人に使ってもらい、ちょっとしたお小遣い(3,000円のAmazonギフト券)をもらえた
- 今後は動的なページのスクレイピングに挑戦したい (Amazonランキングの100位以降の取得)
  - Selnium
  - Phantom.js
